<p-toast></p-toast>
<p-card class="w-96 max-w-95vw grid text-center opacity-85" header="Sistema Gerencial">
  <form [formGroup]="form">
    <div class="card-content">
      <p-divider></p-divider>
      <div class="grid">
        <div class="col-12">
          <div class="flex flex-col gap-2 text-left">
            <label for="username">Usuario</label>
            <input pInputText id="username" aria-describedby="username-help" class="w-full" formControlName="usuario"/>
            @if (form.getError('required', 'usuario') && form.value.usuario !== null) {
              <small id="username-help">El campo del usuario es requerido.</small>
            }
          </div>
        </div>
        <div class="col-12">
          <div class="flex flex-col gap-2 text-left">
            <label for="password">Contraseña</label>
            <span class="p-input-icon-right">
              <i class="pi pi-eye{{passwordIcon}}" (click)="change()"></i>
              <input pInputText id="password" [type]="passwordType" aria-describedby="password-help" class="w-full"  formControlName="password"/>
            </span>
            @if (form.getError('required', 'password') && form.value.password !== null) {
              <small id="password-help">El campo de la contraseña es requerido.</small>
            }
          </div>
        </div>
      </div>
      <p-divider></p-divider>
      <p-button [icon]="loadingIcon"  [label]="loadingText" [raised]="true" (click)="auth()" [disabled]="loading"></p-button>
    </div>
  </form>
</p-card>
