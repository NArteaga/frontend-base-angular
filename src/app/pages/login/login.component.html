<p-toast styleClass="max-w-[90%]"></p-toast>
<p-card class="w-96 max-w-95vw grid text-center opacity-85">
  <form [formGroup]="form">
    <div class="card-content">
      <h3 class="text-2xl font-bold m-1">Sistema Gerencial</h3>
      <div class="grid p-2">
        <div class="col-12">
          <div class="flex flex-col gap-2 text-left">
            <label for="username" class="font-bold text-base md:text-lg lg:text-lg xl:text-lg">Usuario</label>
            <input pInputText id="username" aria-describedby="username-help" class="w-full" pAutoFocus [autofocus]="true" formControlName="usuario" (keyup.enter)="auth()"/>
            @if (form.getError('required', 'usuario') && form.value.usuario !== null) {
              <small id="username-help">El campo del usuario es requerido.</small>
            }
          </div>
        </div>
        <div class="col-12">
          <div class="flex flex-col gap-2 text-left">
            <label for="password" class="font-bold text-base md:text-lg lg:text-lg xl:text-lg">Contraseña</label>
            <span class="p-input-icon-right">
              <i class="pi pi-eye{{passwordIcon}}" (click)="change()"></i>
              <input pInputText id="password" [type]="passwordType" aria-describedby="password-help" class="w-full" formControlName="password" autocomplete="on" (keyup.enter)="auth()" />
            </span>
            @if (form.getError('required', 'password') && form.value.password !== null) {
              <small id="password-help">El campo de la contraseña es requerido.</small>
            }
          </div>
        </div>
      </div>
      <p-button [icon]="loadingIcon"  [label]="loadingText" [raised]="true" (click)="auth()" [disabled]="loading"></p-button>
    </div>
  </form>
</p-card>
